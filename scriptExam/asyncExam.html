<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    function getUser() {
        return new Promise((resolve, reject)=>{
            setTimeout(()=>{
                console.log('사용자 정보 가져오기');
                resolve({name: '홍길동'});
            }, 1000);
        })
    }

    function getOrder(userName) {
        return new Promise((resolve, reject)=>{
            setTimeout(()=>{
                console.log('주문정보 가져오기');
                resolve({name: userName, item: '노트북', price: '150만원'});
            }, 1000);
        })
    }

    // async/await는 비동기 코드를 동기 코드처럼 작성할 수 있게 하여 가독성을 높이고, 복잡성을 줄여주는 기능을 한다.
    // 특히 콜백 지옥과 같은 비동기 코드의 단점을 보완하고, 비동기 작업의 흐름을 보다 명확하게 관리할 수 있게 해준다.
    // 비동기 함수들을 동기화해서 사용하려면 async 함수 안에 await 함수들을 사용하면 된다.
    async function showOrder(params) {
        const user = await getUser();
        const order = await getOrder(user.name);
        alert(`주문자 : ${order.name}, 제품: ${order.item}`);
    }

    // 함수 실행
    showOrder();
</script>
</html>